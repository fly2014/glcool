<!DOCTYPE html>
<html lang="zh-CN" class="no-js"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script><title>PHP-FPM – GlCool</title><link rel="dns-prefetch" href="//s.w.org"><link rel="stylesheet" id="wp-block-library-css" href="https://www.glcool.com/wp-includes/css/dist/block-library/style.min.css" media="all"><link rel="stylesheet" id="wp-block-library-theme-css" href="https://www.glcool.com/wp-includes/css/dist/block-library/theme.min.css" media="all"><link rel="stylesheet" id="genericons-css" href="https://www.glcool.com/wp-content/themes/twentyfifteen/genericons/genericons.css" media="all"><link rel="stylesheet" id="twentyfifteen-style-css" href="https://www.glcool.com/wp-content/themes/twentyfifteen/style.css" media="all"><link rel="stylesheet" id="twentyfifteen-block-style-css" href="https://www.glcool.com/wp-content/themes/twentyfifteen/css/blocks.css" media="all"><script src="https://www.glcool.com/wp-includes/js/jquery/jquery.js"></script><script src="https://www.glcool.com/wp-includes/js/jquery/jquery-migrate.min.js"></script></head><body class="archive tag tag-php-fpm tag-32 wp-embed-responsive">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">跳至内容</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header" role="banner"><div class="site-branding">
										<p class="site-title"><a href="https://www.glcool.com/" rel="home">GlCool</a></p>
												<p class="site-description">The Global Coolest</p>
										<button class="secondary-toggle">菜单和挂件</button>
			</div>
		</header><div id="secondary" class="secondary">

		
		
					<div id="widget-area" class="widget-area" role="complementary">
						<aside id="recent-posts-2" class="widget widget_recent_entries"><h2 class="widget-title">近期文章</h2>		<ul><li>
					<a href="https://www.glcool.com/archives/313">windows10-tensorflow2安装</a>
									</li>
											<li>
					<a href="https://www.glcool.com/archives/310">C# Rabbitmq RPC模式服务器超时解决方案</a>
									</li>
											<li>
					<a href="https://www.glcool.com/archives/308">C#动态编译表达式</a>
									</li>
											<li>
					<a href="https://www.glcool.com/archives/297">Linux CentOS7安装NET Core</a>
									</li>
											<li>
					<a href="https://www.glcool.com/archives/294">C#动态执行javascript</a>
									</li>
					</ul></aside><aside id="pages-2" class="widget widget_pages"><h2 class="widget-title">页面</h2>		<ul><li class="page_item page-item-315"><a href="https://www.glcool.com/about">关于</a></li>
		</ul></aside><aside id="categories-3" class="widget widget_categories"><h2 class="widget-title">分类目录</h2>		<ul><li class="cat-item cat-item-2"><a href="https://www.glcool.com/archives/category/iot">IOT</a>
</li>
	<li class="cat-item cat-item-3"><a href="https://www.glcool.com/archives/category/net">NET</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://www.glcool.com/archives/category/php">PHP</a>
</li>
	<li class="cat-item cat-item-5"><a href="https://www.glcool.com/archives/category/tensorflow">TensorFlow</a>
</li>
	<li class="cat-item cat-item-6"><a href="https://www.glcool.com/archives/category/windows">Windows</a>
</li>
	<li class="cat-item cat-item-7"><a href="https://www.glcool.com/archives/category/blockchain">区块链</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://www.glcool.com/archives/category/%e6%95%b0%e6%8d%ae%e5%ba%93">数据库</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://www.glcool.com/archives/category/uncategorized">未分类</a>
</li>
	<li class="cat-item cat-item-9"><a href="https://www.glcool.com/archives/category/%e6%b6%88%e6%81%af%e9%98%9f%e5%88%97">消息队列</a>
</li>
		</ul></aside></div>
		
	</div>

	</div>

	<div id="content" class="site-content">

	<section id="primary" class="content-area"><main id="main" class="site-main" role="main"><header class="page-header"><h1 class="page-title">标签：PHP-FPM</h1>			</header><article id="post-122" class="post-122 post type-post status-publish format-standard hentry category-php tag-centos7 tag-nginx tag-php-fpm tag-php7 tag-yum"><header class="entry-header"><h2 class="entry-title"><a href="https://www.glcool.com/archives/122" rel="bookmark">CentOS7安装PHP7与Nginx之PHP-FPM模式</a></h2>	</header><div class="entry-content">
		<p>采用yum安装PHP7.1.6Released版<br>
1、添加PHP管理软件包的安装源<br>
CentOS/RHEL 7.x安装源:</p>
<pre>rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
</pre>
<p>CentOS/RHEL 6.x安装源:</p>
<pre>rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-6.noarch.rpm
rpm -Uvh https://mirror.webtatic.com/yum/el6/latest.rpm
</pre>
<p>2、<br>
[subscribe]mod_php安装模式</p>
<pre>yum install mod_php71w php71w-opcache php71w-pecl-apcu php71w-common php71w-mysqlnd php71w-pdo php71w-pecl-imagick
</pre>
<p>php-fpm安装模式（现在一般选这个）</p>
<pre>yum install php71w-fpm php71w-opcache php71w-pecl-apcu php71w-common php71w-mysqlnd php71w-pdo php71w-pecl-imagick
</pre>
<p>[/subscribe]<br>
3、安装其他插件包</p>
<table><thead><tr><th>Package</th>
<th>Provides</th>
</tr></thead><tbody><tr><td>mod_php71w</td>
<td>php71w, mod_php, php71w-zts</td>
</tr><tr><td>php71w-bcmath</td>
<td></td>
</tr><tr><td>php71w-cli</td>
<td>php-cgi, php-pcntl, php-readline</td>
</tr><tr><td>php71w-common</td>
<td>php-api, php-bz2, php-calendar, php-ctype, php-curl, php-date, php-exif, php-fileinfo, php-filter, php-ftp, php-gettext, php-gmp, php-hash, php-iconv, php-json, php-libxml, php-openssl, php-pcre, php-pecl-Fileinfo, php-pecl-phar, php-pecl-zip, php-reflection, php-session, php-shmop, php-simplexml, php-sockets, php-spl, php-tokenizer, php-zend-abi, php-zip, php-zlib</td>
</tr><tr><td>php71w-dba</td>
<td></td>
</tr><tr><td>php71w-devel</td>
<td></td>
</tr><tr><td>php71w-embedded</td>
<td>php-embedded-devel</td>
</tr><tr><td>php71w-enchant</td>
<td></td>
</tr><tr><td>php71w-fpm</td>
<td></td>
</tr><tr><td>php71w-gd</td>
<td></td>
</tr><tr><td>php71w-imap</td>
<td></td>
</tr><tr><td>php71w-interbase</td>
<td>php_database, php-firebird</td>
</tr><tr><td>php71w-intl</td>
<td></td>
</tr><tr><td>php71w-ldap</td>
<td></td>
</tr><tr><td>php71w-mbstring</td>
<td></td>
</tr><tr><td>php71w-mcrypt</td>
<td></td>
</tr><tr><td>php71w-mysql</td>
<td>php-mysqli, php_database</td>
</tr><tr><td>php71w-mysqlnd</td>
<td>php-mysqli, php_database</td>
</tr><tr><td>php71w-odbc</td>
<td>php-pdo_odbc, php_database</td>
</tr><tr><td>php71w-opcache</td>
<td>php71w-pecl-zendopcache</td>
</tr><tr><td>php71w-pdo</td>
<td>php71w-pdo_sqlite, php71w-sqlite3</td>
</tr><tr><td>php71w-pdo_dblib</td>
<td>php71w-mssql</td>
</tr><tr><td>php71w-pear</td>
<td></td>
</tr><tr><td>php71w-pecl-apcu</td>
<td></td>
</tr><tr><td>php71w-pecl-imagick</td>
<td></td>
</tr><tr><td>php71w-pecl-memcached</td>
<td></td>
</tr><tr><td>php71w-pecl-mongodb</td>
<td></td>
</tr><tr><td>php71w-pecl-redis</td>
<td></td>
</tr><tr><td>php71w-pecl-xdebug</td>
<td></td>
</tr><tr><td>php71w-pgsql</td>
<td>php-pdo_pgsql, php_database</td>
</tr><tr><td>php71w-phpdbg</td>
<td></td>
</tr><tr><td>php71w-process</td>
<td>php-posix, php-sysvmsg, php-sysvsem, php-sysvshm</td>
</tr><tr><td>php71w-pspell</td>
<td></td>
</tr><tr><td>php71w-recode</td>
<td></td>
</tr><tr><td>php71w-snmp</td>
<td></td>
</tr><tr><td>php71w-soap</td>
<td></td>
</tr><tr><td>php71w-tidy</td>
<td></td>
</tr><tr><td>php71w-xml</td>
<td>php-dom, php-domxml, php-wddx, php-xsl</td>
</tr><tr><td>php71w-xmlrpc</td>
<td></td>
</tr></tbody></table><p>4、启动php-fpm（默认端口9000）</p>
<pre>systemctl start php-fpm
</pre>
<p>5、对应配置文件路径如下</p>
<pre>/etc/php-fpm.conf
/etc/php.ini
</pre>
<hr><p>6、安装nginx源<br>
CentOS/RHEL 7.x:</p>
<pre>rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
</pre>
<p>7、安装nginx</p>
<pre>yum install nginx
</pre>
<p>8、启动nginx</p>
<pre>systemctl start nginx
</pre>
<p>9、NGINX配置文件地址如下</p>
<pre>/etc/nginx/nginx.conf
</pre>
<p>10、NGINX整合PHP-FPM,按照如下格式修改nginx server节点。</p>
<pre>	
#增加权限 否则报错
chmod +777 /var/run/php-fpm/php-fpm.sock
root         /usr/share/nginx/html/;#PHP文件存放目录
location / {
         index index.php index.html;
         try_files $uri $uri/ /index.php?$args;
        }
location ~ \.php$ {
         fastcgi_pass  unix:/var/run/php-fpm/php-fpm.sock;
         fastcgi_index index.php;
         fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
         fastcgi_param QUERY_STRING    $query_string;
         fastcgi_param REQUEST_METHOD  $request_method;
         fastcgi_param CONTENT_TYPE    $content_type;
         fastcgi_param CONTENT_LENGTH  $content_length;
         include fastcgi_params;
       }
</pre>
<p>11、重新启动nginx</p>
<pre>systemctl restart nginx
</pre>
	</div>

	
	<footer class="entry-footer"><span class="posted-on"><span class="screen-reader-text">发布于 </span><a href="https://www.glcool.com/archives/122" rel="bookmark"><time class="entry-date published" datetime="2017-06-29T15:58:30+08:00">2017年6月29日</time><time class="updated" datetime="2020-05-28T13:21:54+08:00">2020年5月28日</time></a></span><span class="cat-links"><span class="screen-reader-text">分类 </span><a href="https://www.glcool.com/archives/category/php" rel="category tag">PHP</a></span><span class="tags-links"><span class="screen-reader-text">标签 </span><a href="https://www.glcool.com/archives/tag/centos7" rel="tag">CentOS7</a>、<a href="https://www.glcool.com/archives/tag/nginx" rel="tag">Nginx</a>、<a href="https://www.glcool.com/archives/tag/php-fpm" rel="tag">PHP-FPM</a>、<a href="https://www.glcool.com/archives/tag/php7" rel="tag">PHP7</a>、<a href="https://www.glcool.com/archives/tag/yum" rel="tag">yum</a></span><span class="comments-link"><a href="https://www.glcool.com/archives/122#respond"><span class="screen-reader-text">于CentOS7安装PHP7与Nginx之PHP-FPM模式</span>留下评论</a></span>			</footer></article></main></section></div>

	<footer id="colophon" class="site-footer" role="contentinfo"><div class="site-info">
									<a class="imprint">2020-02-02--@github
			</a>
		</div>
	</footer></div>

<script src="https://www.glcool.com/wp-content/themes/twentyfifteen/js/skip-link-focus-fix.js"></script><script>
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">\u5c55\u5f00\u5b50\u83dc\u5355<\/span>","collapse":"<span class=\"screen-reader-text\">\u6298\u53e0\u5b50\u83dc\u5355<\/span>"};
</script><script src="https://www.glcool.com/wp-content/themes/twentyfifteen/js/functions.js"></script></body></html>
