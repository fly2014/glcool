<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>rabbitmq &#8211; GlCool</title>
	<atom:link href="https://www.glcool.com/archives/tag/rabbitmq/feed" rel="self" type="application/rss+xml" />
	<link>http://www.glcool.com/</link>
	<description>The Global Coolest</description>
	<lastBuildDate>Thu, 28 May 2020 05:21:54 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.4.1</generator>
	<item>
		<title>C# Rabbitmq RPC模式服务器超时解决方案</title>
		<link>https://www.glcool.com/archives/310</link>
					<comments>https://www.glcool.com/archives/310#respond</comments>
		
		<dc:creator><![CDATA[flying]]></dc:creator>
		<pubDate>Fri, 08 Nov 2019 06:05:03 +0000</pubDate>
				<category><![CDATA[消息队列]]></category>
		<category><![CDATA[rabbitmq]]></category>
		<category><![CDATA[RPC]]></category>
		<category><![CDATA[超时]]></category>
		<guid isPermaLink="false">https://www.glcool.com/?p=310</guid>

					<description><![CDATA[利用2个task实现，看红字，直接看代码 public string Call(string rpc_queu &#8230; <a href="https://www.glcool.com/archives/310" class="more-link">继续阅读<span class="screen-reader-text">C# Rabbitmq RPC模式服务器超时解决方案</span></a>]]></description>
										<content:encoded><![CDATA[<p>利用2个task实现，看红字，直接看代码<br />
public string Call(string rpc_queue, byte[] obj)<br />
{<br />
string rstr = &#8220;no&#8221;;<br />
var channel = this.GetModel(RpcChannel); channel.ContinuationTimeout = TimeSpan.FromSeconds(10);<br />
channel.BasicPublish(exchange: &#8220;&#8221;, routingKey: rpc_queue, basicProperties: props, body: obj);<br />
channel.BasicConsume(consumer: consumer, queue: replyQueueName, autoAck: true);<br />
<span style="color: #ff0000;">Task[] tasks = new Task[2];</span><br />
<span style="color: #ff0000;">tasks[0] = Task.Run(async () =&gt;</span><br />
<span style="color: #ff0000;">{</span><br />
<span style="color: #ff0000;">await Task.Delay(6000);//超时</span><br />
<span style="color: #ff0000;">respQueue.Add(rstr);</span><br />
<span style="color: #ff0000;">//respQueue.CompleteAdding();</span><br />
<span style="color: #ff0000;">});</span><br />
<span style="color: #ff0000;">tasks[1] = Task.Run(() =&gt;</span><br />
<span style="color: #ff0000;">{</span><br />
<span style="color: #ff0000;">rstr = respQueue.Take();</span><br />
<span style="color: #ff0000;">});</span><br />
<span style="color: #ff0000;">try</span><br />
<span style="color: #ff0000;">{</span><br />
<span style="color: #ff0000;">Task.WaitAll(tasks);</span><br />
<span style="color: #ff0000;">}</span><br />
<span style="color: #ff0000;">catch (AggregateException ae)</span><br />
<span style="color: #ff0000;">{</span><br />
<span style="color: #ff0000;">foreach (var ex in ae.InnerExceptions)</span><br />
<span style="color: #ff0000;">Console.WriteLine(&#8221; {0}: {1}&#8221;, ex.GetType().Name, ex.Message);</span><br />
<span style="color: #ff0000;">}</span><br />
return rstr;<br />
}</p>
]]></content:encoded>
					
					<wfw:commentRss>https://www.glcool.com/archives/310/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>在CentOS7上安装RabbitMQ</title>
		<link>https://www.glcool.com/archives/252</link>
					<comments>https://www.glcool.com/archives/252#respond</comments>
		
		<dc:creator><![CDATA[flying]]></dc:creator>
		<pubDate>Mon, 13 May 2019 06:56:58 +0000</pubDate>
				<category><![CDATA[消息队列]]></category>
		<category><![CDATA[rabbitmq]]></category>
		<guid isPermaLink="false">https://www.glcool.com/?p=252</guid>

					<description><![CDATA[在CentOS7上安装RabbitMQ 1、erlang安装 rpm -Uvh https://dl.fedo &#8230; <a href="https://www.glcool.com/archives/252" class="more-link">继续阅读<span class="screen-reader-text">在CentOS7上安装RabbitMQ</span></a>]]></description>
										<content:encoded><![CDATA[<p>在CentOS7上安装RabbitMQ<br />
1、erlang安装<code><br />
rpm -Uvh https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-11.noarch.rpm<br />
yum install erlang</code><br />
rabbitmq安装<br />
<code>wget https://www.rabbitmq.com/releases/rabbitmq-server/v3.6.15/rabbitmq-server-3.6.15-1.el7.noarch.rpm<br />
yum install rabbitmq-server-3.6.15-1.el7.noarch.rpm</code><br />
rabbitmq启动<br />
<code>systemctl start rabbitmq-server</code><br />
rabbitmq管理插件安装<br />
<code>rabbitmq-plugins enable rabbitmq_management</code><br />
rabbitmq加入开机启动<br />
<code>systemctl enable rabbitmq-server.service</code><br />
rabbitmq启动服务<br />
<code>systemctl start rabbitmq-server.service</code><br />
rabbitmq加入管理员和管理组和权限设置<br />
<code>rabbitmqctl add_user admin admin<br />
rabbitmqctl set_user_tags admin administrator<br />
rabbitmqctl set_permissions -p / admin ".*" ".*" ".*"</code><br />
删除guest用户<br />
<code>rabbitmqctl delete_user guest</code><br />
开放rabbitmq15672端口<br />
<code>firewall-cmd --zone=public --add-port=15672/tcp --permanent<br />
firewall-cmd --reload</code><br />
查看rabbitmq安装成功<br />
<code>http://rabbitmq-server:15672/</code><br />
如果发送订阅没有效果<br />
cd /usr/share/doc/rabbitmq-server-3.7.17/<br />
cp rabbitmq.config.example /etc/rabbitmq/<br />
cd /etc/rabbitmq/<br />
mv rabbitmq.config.example rabbitmq.config<br />
修改rabbitmq.config里面disk_free_limit变量为500M，注意取消注释，重启rabbitmq，注意后面逗号影响重新启动</p>
]]></content:encoded>
					
					<wfw:commentRss>https://www.glcool.com/archives/252/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
